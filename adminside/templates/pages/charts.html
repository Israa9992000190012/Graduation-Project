{% extends 'pages/basepages.html' %}
{% load static %}
{% block pagestitle %}Charts - Admin{% endblock %}

{% block content %}
<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">
            <h1 class="mt-4">Charts</h1>
            <ol class="breadcrumb mb-4">
                <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                <li class="breadcrumb-item active">Charts</li>
            </ol>
            <div class="card mb-4">
                <div class="card-body">
                    Chart.js is a third party plugin that is used to generate the charts in this template. The charts below have been customized - for further customization options, please visit the official
                    <a target="_blank" href="https://www.chartjs.org/docs/latest/">Chart.js documentation</a>
                    .
                </div>
            </div>
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-area me-1"></i>
                    Product Sales last 12 days.
                <div class="card-body">
                    <canvas id="myAreaChart" width="100%" height="30"></canvas>
                </div>
                <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
            </div>
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-area me-1"></i>
                    Product Sales last 12 days.
                <div class="card-body">
                    <canvas id="myBarChart" width="100%" height="30"></canvas>
                </div>
                <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
            </div>
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-area me-1"></i>
                    Feedbacks.
                <div class="card-body">
                    <canvas id="myPieChart" width="100%" height="10"></canvas>
                </div>
                <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
            </div>
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-table me-1"></i>
                    All orders.
                </div>
                <div class="card-body">
                    <table id="datatablesSimple">
                        <thead>
                            <tr>
                                <th>Product Name</th>
                                <th>Product Price</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>Product Name</th>
                                <th>Product Price</th>
                            </tr>
                        </tfoot>
                        <tbody>
                            {% for product in products %}
                                <tr>
                                    <td>{{ product.product_name }}</td>
                                    <td>$ {{ product.product_price }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
    <footer class="py-4 bg-light mt-auto">
        <div class="container-fluid px-4">
            <div class="d-flex align-items-center justify-content-between small">
                <div class="text-muted">Copyright &copy; Your Website 2022</div>
                <div>
                    <a href="#">Privacy Policy</a>
                    &middot;
                    <a href="#">Terms &amp; Conditions</a>
                </div>
            </div>
        </div>
    </footer>
</div>

<script>
    const ctx = document.getElementById('myAreaChart');
    const ctx2 = document.getElementById('myBarChart');
    const ctx3 = document.getElementById('myPieChart');
    const myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [
                '12-05-2023',
                '13-05-2023',
                '14-05-2023',
                '15-05-2023',
                '16-05-2023',
                '17-05-2023',
                '18-05-2023',
                '19-05-2023',
                '20-05-2023',
                '21-05-2023',
                '22-05-2023',
                '23-05-2023',
            ],
            datasets: [{
                label: 'Sales',
                data: [
                    {% for product in products %}
                        {{ product.product_price }},
                    {% endfor %}
                ],
                backgroundColor: [
                    'rgba(0, 123, 255, 0.3)',
                ],
                borderColor: [
                    'rgba(0, 123, 255, 1)',
                ],
                borderWidth: 1,
            }],
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        },
    });

    const myChart2 = new Chart(ctx2, {
        type: 'bar',
        data: {
            labels: [
                'January',
                'February',
                'March',
                'April',
                'May',
                'June',
                'July',
                'August',
                'September',
                'October',
                'November',
                'December',
            ],
            datasets: [{
                label: 'Sales',
                data: [
                    {% for product in products %}
                        {{ product.product_price }},
                    {% endfor %}
                ],
                backgroundColor: [
                    'rgba(0, 123, 255, 0.3)',
                ],
                borderColor: [
                    'rgba(0, 123, 255, 1)',
                ],
                borderWidth: 1,
            }],
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        },
    });

    const myChart3 = new Chart(ctx3, {
        type: 'pie',
        data: {
            labels: [
                'Positive',
                'Negative',
            ],
            datasets: [{
                label: 'Feedbacks',
                data: [
                    92,
                    8,
                ],
                backgroundColor: [
                    'rgba(0, 123, 255, 0.3)',
                    'rgba(255, 0, 0, 0.3)'
                ],
                borderColor: [
                    'rgba(0, 123, 255, 1)',
                ],
                borderWidth: 1,
            }],
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        },
    });
</script>
{% endblock %}
